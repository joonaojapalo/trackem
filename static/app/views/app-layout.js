// Generated by CoffeeScript 1.10.0
(function() {
  define(["radio", "marionette", "text!templates/app-layout.html", "app/state"], function(Radio, Marionette, AppLayoutTemplate, state) {
    var AppLayout;
    return AppLayout = Marionette.LayoutView.extend({
      el: "body",
      template: AppLayoutTemplate,
      regions: {
        contentRegion: "#content"
      },
      ui: {
        username: '[data-ui="username"]',
        group: '[data-ui="group"]'
      },
      onRender: function() {
        var groupChannel, userChannel;
        console.log("app-layout:render");
        userChannel = Radio.channel("user");
        groupChannel = Radio.channel("group");
        userChannel.on("sync", this.onUserSync);
        groupChannel.on("sync", this.onGroupSync);
        this.onUserSync();
        return this.onGroupSync();
      },
      onUserSync: function() {
        return this.ui.username.text(state.get("user").get("name"));
      },
      onGroupSync: function() {
        console.log("group:sync", (state.get("group")).attributes);
        return this.ui.group.text(state.get("group").get("name"));
      }
    });
  });

}).call(this);
