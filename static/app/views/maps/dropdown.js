// Generated by CoffeeScript 1.10.0
(function() {
  define(["radio", "marionette", "text!templates/maps-dropdown.html"], function(Radio, Marionette, template) {
    var Dropdown, ListItemView, ListView;
    ListItemView = Marionette.ItemView.extend({
      tagName: "li",
      template: '<button class="btn btn-secondary btn-block" tabindex="-1">{{name}} ({{id}})</button>',
      events: {
        "click button": "onClickSelect"
      },
      onRender: function() {
        this.$el.addClass("list-group-item");
        return this.model.once("change:name", this.render);
      },
      onClickSelect: function() {
        var channel;
        channel = Radio.channel("maps");
        return channel.trigger("map:select", this.model);
      }
    });
    ListView = Marionette.CollectionView.extend({
      tagName: "ul",
      childView: ListItemView,
      onRender: function() {
        return this.$el.addClass("list-group");
      }
    });
    return Dropdown = Marionette.LayoutView.extend({
      template: template,
      regions: {
        itemsRegion: '[data-region="items"]'
      },
      initialize: function(options) {
        return this.mergeOptions(options, ["dropdownGroups"]);
      },
      onBeforeShow: function() {
        return this.itemsRegion.show(new ListView({
          collection: this.collection
        }));
      }
    });
  });

}).call(this);
