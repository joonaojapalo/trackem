// Generated by CoffeeScript 1.10.0
(function() {
  define(["radio", "marionette", "text!templates/maps/dropdown"], function(Radio, Marionette, template) {
    var Dropdown, EmptyListView, ListItemView, ListView;
    EmptyListView = Marionette.ItemView.extend({
      template: '{{_ "No maps yet. Begin adding one."}}'
    });
    ListItemView = Marionette.ItemView.extend({
      template: '<button class="btn btn-default btn-block" data-action="select">{{name}} ({{id}})</button><br>',
      events: {
        "click [data-action='select']": "onClickSelect"
      },
      onRender: function() {
        return this.model.once("change:name", this.render);
      },
      onClickSelect: function() {
        var channel;
        channel = Radio.channel("maps");
        return channel.trigger("map:select", this.model);
      }
    });
    ListView = Marionette.CollectionView.extend({
      childView: ListItemView,
      emptyView: EmptyListView
    });
    return Dropdown = Marionette.LayoutView.extend({
      template: template,
      regions: {
        itemsRegion: '[data-region="items"]'
      },
      initialize: function(options) {
        return this.mergeOptions(options, ["dropdownGroups"]);
      },
      onBeforeShow: function() {
        return this.itemsRegion.show(new ListView({
          collection: this.collection
        }));
      }
    });
  });

}).call(this);
