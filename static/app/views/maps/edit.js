// Generated by CoffeeScript 1.10.0
(function() {
  define(["radio", "modelbinder", "marionette", "text!templates/maps/edit"], function(Radio, ModelBinder, Marionette, template) {
    var EditMapView;
    return EditMapView = Marionette.ItemView.extend({
      template: template,
      ui: {
        "save": '[data-action="save"]',
        "mapName": 'input[name="name"]'
      },
      events: {
        "click @ui.save": "onClickSave",
        "change @ui.mapName": "onChangeMapName"
      },
      onClickSave: function() {
        var promise, saveBtn;
        this.ui.save.prop("disabled", true);
        promise = this.model.save();
        saveBtn = this.ui.save;
        promise.done(function() {
          console.debug("map save success");
          return saveBtn.prop("disabled", false);
        });
        return promise.fail(function() {
          return saveBtn.prop("disabled", false);
        });
      },
      onChangeMapName: function() {
        this.model.set("name", this.ui.mapName.val());
        return console.debug("mapname change " + (this.model.get('name')));
      }
    });
  });

}).call(this);
