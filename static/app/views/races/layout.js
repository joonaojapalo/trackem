// Generated by CoffeeScript 1.10.0
(function() {
  define(["radio", "marionette", "text!templates/races/layout", "views/races/races", "views/races/runners", "views/races/player", "app/state", "views/races/create-race-layout"], function(Radio, Marionette, template, RacesView, RunnersView, RacePlayerView, state, CreateRaceLayout) {
    var RacesLayout;
    return RacesLayout = Marionette.LayoutView.extend({
      template: template,
      regions: {
        racesRegion: '[data-region="races"]',
        racePlayerRegion: '[data-region="race-player"]',
        runnersRegion: '[data-region="race-runners"]',
        createRaceRegion: '[data-region="create-race"]'
      },
      childEvents: {
        "select:map:change": "onSelectMap"
      },
      initialize: function(options) {
        return this.mergeOptions(options, ["races", "runners"]);
      },
      onBeforeShow: function() {
        this.racesRegion.show(new RacesView({
          races: this.races
        }));
        this.runnersRegion.show(new RunnersView({
          runners: this.runners
        }));
        this.racePlayerRegion.show(new RacePlayerView({
          model: this.race
        }));
        return this.createRaceRegion.show(new CreateRaceLayout);
      }
    });
  });

}).call(this);
